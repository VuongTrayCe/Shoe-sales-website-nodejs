include ./confirm.pug


mixin product_infor(products,listOption,keyword,detailProduct1)
    nav.navbar.navbar_menu-title
        .nameTitle Danh Sách Sản Phẩm
    .row.searchAndStatus
        .col-md-4
            form.form-group.navbar.navbar_search.form_search 
                lable Tìm kiếm
                input(type="text" value=keyword name="keyword" class="form-control",id="seach" placeholder="----------Bạn tìm kiếm gì----------" aria-label="Recipient's username" aria-describedby="button-addon2")
                button(type='submit')
                    i(class="fa-solid fa-magnifying-glass" )
        .col-md-4
            .form-group.navbar
                lable Trạng Thái
                select.form-select.filterSearchProduct#comboboxChangeStatus(aria-label='Default select example')
                                each item in listOption
                                    if item.class=="active"
                                        option(value=item.value,selected) #{item.name}
                                    else 
                                        option(value=item.value) #{item.name}  
        .col-md-4
            button.btn.btn-success.add_Product.btn_addProduct(type='button') Add new product

    nav.navbar.navbar_content
        +detailProduct(detailProduct1)
        table.table.align-middle.tableProduct
            thead
                tr
                    th(scope='col',style='width: 5%' first) STT
                    th(scope='col',style='width: 10%') Image
                    th(scope='col',style='width: 30%') Tiêu Đề
                    th(scope='col',style='width: 10%') Brand
                    th(cope='col',style='width: 10%') Trạng Thái 
                    th(scope='col') Detail
                    th(scope='col') Hoạt Động

            tbody.table-group-divider
            +confirm("Bạn Có Muốn Xóa Không")
            each item,index in products
                +product_infor_item(item,index)

mixin product_infor_item(item,index) 
    tr.text-start
                    th(class="stt_tableProduct",scope='row' first) #{index+1}
                    td.img_tableProduct
                        img(src=`${item.thumbnail}`, alt="", srcset="")
                    td(class="_tableProduct") #{item.title}
                    td(class="_tableProduct") #{item.brand}
                    td(class="text-wrap") 
                        button.btnStatusProduct(status =item.status, id_product =item._id style=`${item.status==="active"? "color:var(--bs-success)":"color:var(--bs-danger)"}`) #{item.status}
                    td
                            i.fa-solid.fa-eye(btn-data-detail, id_product =item._id)
 
                    td
                        button.btn.btn-warning(type='button' data-toggle="modal" data-target="#exampleModal" ) Edit
                        if item.delete == "false"
                            button.btn.btn-danger.ml-1.openConfirm(type='button' btn_delete id_product=item._id ) Delete
